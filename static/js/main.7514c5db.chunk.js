(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),s=n.n(c),o=n(189),i=n(57),u=n(177),l=n(190),b=n(20),p=Object(b.b)("contacts/CHANGE_FILTER"),j=Object(b.b)("contacts/fetchContactsRequest"),d=Object(b.b)("contacts/fetchContactsSuccess"),h=Object(b.b)("contacts/fetchContactsError"),f=Object(b.b)("contacts/addContactsSuccess"),m=Object(b.b)("contacts/deleteContactsSuccess"),O={filterContact:p,contactsRequest:j,fetchContactsSuccess:d,contactsError:h,addContactsSuccess:f,deleteContactsSuccess:m},x=n(19),v=n(35),y=function(e){return e.contacts.filter},g=function(e){return e.contacts.items},C=Object(v.a)([g,y],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),T=n(7),w=Object(u.a)({TextField:{display:"block",marginBottom:10}});function k(){var e=Object(x.b)(),t=w(),n=Object(x.c)((function(e){return y(e)}));return Object(T.jsx)(l.a,{value:n,onChange:function(t){return e(p(t.currentTarget.value))},required:!0,fullWidth:!0,className:t.TextField,id:"filter",label:"Find contact by name ",type:"text",variant:"outlined",placeholder:"enter  contact's name"})}var S=n(6),F=n.n(S),L=n(12),N=n(182),q=n(183),E=n(185),A=n(187),B=n(184),R=n(193),W=n(78),I=n.n(W),J=n(186),P=n(77),z=n.n(P),D=n(75),M=n.n(D),G=n(48),H=n.n(G);function U(){return _.apply(this,arguments)}function _(){return(_=Object(L.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("/contacts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(L.a)(F.a.mark((function e(t,n){var r,a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,a=t.number,c={id:M.a.generate(),name:r,number:a},!n.some((function(e){return e.name.toLowerCase()===r.toLowerCase()}))){e.next=5;break}return e.abrupt("return",null);case 5:return H.a.post("http://localhost:3000/contacts",c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return X.apply(this,arguments)}function X(){return(X=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H.a.delete("http://localhost:3000/contacts/".concat(t)),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}H.a.defaults.baseURL=" http://localhost:3000";var Y=function(e){return function(){var t=Object(L.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(j()),t.prev=1,t.next=4,V(e);case 4:r=t.sent,n(m(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(h(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Z=(n(124),n(76)),$=n.n(Z),ee=Object(u.a)({List:{marginTop:20},Loader:{display:"flex",justifyContent:"center",alignItems:"center"},Typography:{marginTop:20,textAlign:"center"}});function te(){var e=Object(x.b)(),t=ee(),n=Object(x.c)((function(e){return g(e)})),a=Object(x.c)((function(e){return C(e)})),c=Object(x.c)((function(e){return function(e){return e.contacts.isLoading}(e)})),s=Object(x.c)((function(e){return function(e){return e.contacts.error}(e)}));return Object(r.useEffect)((function(){e(function(){var e=Object(L.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j()),e.prev=1,e.next=4,U();case 4:n=e.sent,t(d(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(h(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(T.jsxs)(T.Fragment,{children:[s&&n.length<1&&Object(T.jsxs)(i.a,{color:"primary",className:t.Typography,variant:"h3",component:"h2",children:[s,". Try another time"]}),c&&n.length<1?Object(T.jsx)($.a,{className:t.Loader,type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3}):Object(T.jsx)(T.Fragment,{}),Object(T.jsx)(N.a,{className:t.List,children:a?a.map((function(t){var n=t.name,r=t.number,a=t.id;return Object(T.jsxs)(q.a,{children:[Object(T.jsx)(B.a,{children:Object(T.jsx)(R.a,{children:Object(T.jsx)(z.a,{"aria-label":"person"})})}),Object(T.jsx)(E.a,{primary:n}),Object(T.jsx)(E.a,{color:"primary",primary:r}),Object(T.jsx)(J.a,{children:Object(T.jsx)(A.a,{id:a,onClick:function(){var t=Object(L.a)(F.a.mark((function t(n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.currentTarget.id,e(Y(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),edge:"end","aria-label":"delete",children:Object(T.jsx)(I.a,{})})})]},a)})):Object(T.jsx)(T.Fragment,{})})]})}var ne=n(49),re=n(24),ae=n(191),ce=n(188),se=n(79),oe=Object(u.a)({TextField:{display:"block",marginBottom:10},Form:{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:30},Button:{display:"block"},Alert:{marginTop:20,marginBottom:30}});function ie(){var e=Object(x.b)(),t=Object(se.a)(),n=t.register,a=t.handleSubmit,c=t.formState.errors,s=oe(),o=Object(r.useState)(""),i=Object(re.a)(o,2),u=i[0],b=i[1],p=Object(r.useState)(""),d=Object(re.a)(p,2),m=d[0],O=d[1],v=Object(x.c)((function(e){return g(e)}));return Object(T.jsxs)("form",{onSubmit:a((function(t){e(function(e,t){var n=e.name,r=e.number;return function(){var e=Object(L.a)(F.a.mark((function e(a){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(j()),e.prev=1,e.next=4,K({name:n,number:r},t);case 4:if(c=e.sent){e.next=7;break}return e.abrupt("return",alert("this contact is already in the phone book"));case 7:a(f(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a(h(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}(t,v)),b(""),O("")})),className:s.Form,children:[Object(T.jsx)(l.a,Object(ne.a)(Object(ne.a)({},n("name",{required:!0})),{},{fullWidth:!0,className:s.TextField,id:"name",label:"name",onChange:function(e){return b(e.currentTarget.value)},type:"text",value:u,variant:"outlined",placeholder:"enter  contact's name",helperText:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc."})),c.name&&Object(T.jsx)(ae.a,{className:s.Alert,severity:"error",children:"This field is required"}),Object(T.jsx)(l.a,Object(ne.a)(Object(ne.a)({value:m},n("number",{required:!0,minLength:10})),{},{onChange:function(e){return O(e.currentTarget.value)},required:!0,placeholder:"enter  contact's number",fullWidth:!0,className:s.TextField,id:"number",label:"number",type:"phone",variant:"outlined",helperText:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})),c.number&&Object(T.jsx)(ae.a,{className:s.Alert,severity:"error",children:"This field is required, it must be at least 10 characters long and include numbers, spaces, + and parentheses"}),Object(T.jsx)(ce.a,{type:"submit",disableElevation:!0,variant:"contained",color:"primary",size:"large",children:"Add contact"})]})}var ue=Object(u.a)({Container:{width:400,padding:15},Typography:{marginBottom:20}});var le,be,pe,je=function(){var e=ue();return Object(T.jsxs)(o.a,{className:e.Container,maxWidth:"sm",children:[Object(T.jsx)(i.a,{className:e.Typography,color:"primary",align:"left",variant:"h1",component:"h1",children:"Phonebook"}),Object(T.jsx)(ie,{}),Object(T.jsx)(i.a,{className:e.Typography,color:"primary",align:"left",variant:"h3",component:"h2",children:"Phonebook"}),Object(T.jsx)(k,{}),Object(T.jsx)(te,{})]})},de=n(15),he=n(14),fe=n(23),me=Object(b.c)([],(le={},Object(de.a)(le,O.fetchContactsSuccess,(function(e,t){return t.payload})),Object(de.a)(le,O.addContactsSuccess,(function(e,t){var n=t.payload;return[].concat(Object(he.a)(e),[n])})),Object(de.a)(le,O.deleteContactsSuccess,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),le)),Oe=Object(b.c)("",Object(de.a)({},O.filterContact,(function(e,t){return t.payload}))),xe=Object(b.c)(!1,(be={},Object(de.a)(be,O.contactsRequest,(function(){return!0})),Object(de.a)(be,O.fetchContactsSuccess,(function(){return!1})),Object(de.a)(be,O.contactsError,(function(){return!1})),be)),ve=Object(b.c)(null,(pe={},Object(de.a)(pe,O.contactsRequest,(function(){return null})),Object(de.a)(pe,O.contactsError,(function(e,t){return t.payload})),pe)),ye=Object(fe.b)({items:me,filter:Oe,isLoading:xe,error:ve}),ge=Object(b.a)({reducer:{contacts:ye},devTools:!1});s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(x.a,{store:ge,children:Object(T.jsx)(je,{})})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.7514c5db.chunk.js.map